<html>

<head>
  <center>
    <script src="./GazeCloudAPI.js"></script>

    <h1>test 1</h1>
  </center>
</head>

<body>
  <div>
    <div class="box">
      <center>
        <button class="but" type="button" onclick="start()">Start</button>
        <button class="but" type="button" onclick="end()">End</button>
      </center>
      <div style=" margin: auto; border:3px solid black;">
        <p class="a">State: <span id="state"></span></p>
        <p class="a">Cord X: <span id="docX"></span></p>
        <p class="a">Cord Y: <span id="docY"></span></p>
        <p class="a">Timestamp: <span id="time"></span></p>
      </div>
    </div>
  </div>
  <button onclick="isCollide()">Click here</button>
  <div id="gaze"
    style="position: absolute;width: 80px;height: 80px;border: solid 5px  rgba(58, 139, 194, 0.699);	box-shadow: 0 0 100px 3px rgba(0, 0, 0, 0.5);	z-index: 999999">
  </div>
  <div id="rect" class="rect">
    <a href="/keyboard.html"><button class="b"> Next Page </button></a>
  </div>
  </div>
  </div>
</body>

</html>

<script>
  var dragMe;
  window.onload = function () {
    var rect = document.getElementById("rect");
    dragMe = document.getElementById("dragMe");

    var object_1 = dragMe.getBoundingClientRect();
    var object_2 = rect.getBoundingClientRect();

    if (object_1.left < object_2.left + object_2.width && object_1.left + object_1.width > object_2.left &&
      object_1.top < object_2.top + object_2.height && object_1.top + object_1.height > object_2.top) {
      document.getElementById('rect').style.backgroundColor = "red";
      document.getElementById('but').click()

    }
    else {
      document.getElementById('rect').style.backgroundColor = "green";
    }
  }

</script>

<script src="GazeCloudAPI.js"></script>

<script>
  function start() {
    GazeCloudAPI.StartEyeTracking()
    GazeCloudAPI.StopEyeTracking()
    GazeCloudAPI.OnResult = function (GazeData) {
      console.log("GazeData", GazeData);
      localStorage.setItem("GazeData", GazeData);
      document.getElementById("state").innerHTML = GazeData.state;
      document.getElementById("docX").innerHTML = GazeData.docX;
      document.getElementById("docY").innerHTML = GazeData.docY;
      document.getElementById("time").innerHTML = GazeData.time;
      var x = GazeData.docX;
      var y = GazeData.docY;

      var gaze = document.getElementById("gaze");
      x -= gaze.clientWidth / 2;
      y -= gaze.clientHeight / 2;

      gaze.style.left = x + "px";
      gaze.style.top = y + "px";

      if (GazeData.state != 0) {
        if (gaze.style.display == "block") gaze.style.display = "none";
      } else {
        if (gaze.style.display == "none") gaze.style.display = "block";
      }

    }
    function end() {
      GazeCloudAPI.StopEyeTracking();
    }
    function commit() {
      this.$store.commit("EDIT_STATE", GazeData);
    }
  }
</script>

<style>
  .rect {
    width: 400px;
    height: 200px;
    border: 5px solid black;
    align-content: center;
  }
</style>